# **Project HELIX: AI é©±åŠ¨çš„è‡ªåŠ¨åŒ–åˆ›æ„ç”Ÿäº§ç³»ç»Ÿ - README (v2.0)**

**æ–‡æ¡£ç‰ˆæœ¬:** 2.0 (å¼€å‘è€…å°±ç»ªç‰ˆ)

**çŠ¶æ€:** å¼€å‘å°±ç»ª (Ready for Development)

## **1. æ¦‚è¿°ä¸æ„¿æ™¯ (Overview & Vision)**

### **1.1 é¡¹ç›®ä½¿å‘½**

Project HELIX çš„ä½¿å‘½æ˜¯æ„å»ºä¸€ä¸ªç«¯åˆ°ç«¯çš„è‡ªåŠ¨åŒ–ç³»ç»Ÿï¼Œèƒ½å¤Ÿå°†ç”¨æˆ·çš„è‡ªç„¶è¯­è¨€åˆ›æ„éœ€æ±‚ï¼Œè½¬åŒ–ä¸ºç»è¿‡è´¨é‡éªŒè¯ã€ç¬¦åˆå·¥ç¨‹æ ‡å‡†ã€å¹¶å…·å¤‡è§†è§‰ç¾æ„Ÿçš„å‰ç«¯ä»£ç ã€‚å®ƒæ—¨åœ¨æ¨¡æ‹Ÿä¸€ä¸ªé«˜æ•ˆã€åä½œã€ä¸”å…·å¤‡è‡ªæˆ‘è¿›åŒ–èƒ½åŠ›çš„é¡¶å°–æ•°å­—åˆ›æ„å›¢é˜Ÿã€‚

### **1.2 é—®é¢˜é™ˆè¿°**

ä¼ ç»Ÿçš„ä»åˆ›æ„åˆ°ä»£ç çš„æµç¨‹æ¶‰åŠå¤šä¸ªè§’è‰²ï¼Œæ²Ÿé€šæˆæœ¬é«˜ã€å‘¨æœŸé•¿ã€‚æ­¤å¤–ï¼Œæµç¨‹ä¸­ä»»ä½•ç¯èŠ‚çš„æš‚æ—¶æ€§æ•…éšœï¼ˆå¦‚APIè¶…æ—¶ã€æœåŠ¡å´©æºƒï¼‰éƒ½å¯èƒ½å¯¼è‡´æ•´ä¸ªä»»åŠ¡çš„æ°¸ä¹…æ€§å¤±è´¥ï¼Œé€ æˆå·¨å¤§çš„æ²‰æ²¡æˆæœ¬ã€‚

### **1.3 æ ¸å¿ƒæ„¿æ™¯**

æˆ‘ä»¬æ—¨åœ¨åˆ›å»ºä¸€ä¸ª**"åˆ›æ„å³ä»£ç "**çš„èŒƒå¼ã€‚HELIX ç³»ç»Ÿå°†è‡ªä¸»å®Œæˆä»æ¦‚å¿µæ·±åŒ–ã€è§†è§‰è®¾è®¡ã€ä»£ç ç”Ÿæˆã€è´¨é‡ä¿è¯åˆ°æœ€ç»ˆäº¤ä»˜çš„å…¨è¿‡ç¨‹ã€‚æ›´é‡è¦çš„æ˜¯ï¼Œç³»ç»Ÿå¿…é¡»å…·å¤‡ä»å¤±è´¥ä¸­å­¦ä¹ çš„èƒ½åŠ›ï¼Œé€šè¿‡åˆ†æä¸åˆæ ¼çš„äº§å‡ºï¼Œé€’å½’åœ°ä¼˜åŒ–å…¶è‡ªèº«çš„ç”Ÿäº§æµç¨‹ï¼Œä»è€Œå®ç°æŒç»­çš„ã€è‡ªåŠ¨åŒ–çš„æ€§èƒ½æå‡ã€‚è¿™ä¸€åˆ‡éƒ½å¿…é¡»å»ºç«‹åœ¨ä¸€ä¸ªå¥å£®ã€å¯æ¢å¤ã€å¯è§‚æµ‹çš„æ¶æ„ä¹‹ä¸Šã€‚

## **2. æ ¸å¿ƒè®¾è®¡åŸåˆ™ (Core Design Principles)**

æ‰€æœ‰ç³»ç»Ÿç»„ä»¶çš„è®¾è®¡ä¸å®ç°éƒ½å¿…é¡»ä¸¥æ ¼éµå®ˆä»¥ä¸‹åŸåˆ™ï¼š

- **P1: ä»£ç†æ¶æ„ (Agentic Architecture):** ç³»ç»Ÿç”±ä¸€ç³»åˆ—é«˜åº¦ä¸“ä¸šåŒ–ã€è§’è‰²æ˜ç¡®çš„è‡ªä¸» AI ä»£ç†ï¼ˆAgentï¼‰ç»„æˆã€‚
- **P2: æŒä¹…åŒ–çŠ¶æ€æ¥å£ (Persistent State Interfaces):** æ‰€æœ‰ä»£ç†ä¹‹é—´çš„é€šä¿¡å¿…é¡»é€šè¿‡ä¸€ä¸ªä¸­å¿ƒåŒ–çš„ã€æŒä¹…åŒ–çš„çŠ¶æ€æ•°æ®åº“è¿›è¡Œã€‚ä»£ç†ä¹‹é—´ä¸¥ç¦ç›´æ¥è°ƒç”¨ã€‚
- **P3: å¤–éƒ¨åŒ–è®¤çŸ¥ (Externalized Cognition):** ä»£ç†çš„æ ¸å¿ƒé€»è¾‘ï¼ˆå³ Promptï¼‰å¿…é¡»ä¸æ‰§è¡Œå¼•æ“åˆ†ç¦»ï¼Œå­˜å‚¨äºå¤–éƒ¨æ•°æ®åº“ä¸­ï¼Œå¹¶è¿›è¡Œç‰ˆæœ¬æ§åˆ¶ã€‚
- **P4: å¹‚ç­‰ä¸å¯æ¢å¤æ€§ (Idempotence & Recoverability):** ç³»ç»Ÿçš„æ¯ä¸ªä»»åŠ¡æ­¥éª¤å¿…é¡»è®¾è®¡ä¸ºå¹‚ç­‰çš„ã€‚ä»»ä½•å¤±è´¥çš„æ­¥éª¤éƒ½å¯ä»¥ä»ä¸Šä¸€ä¸ªå·²çŸ¥è‰¯å¥½çŠ¶æ€æ— ç¼æ¢å¤å’Œé‡è¯•ï¼ˆRetryï¼‰ã€‚
- **P5: åŸºäºå†å²çš„è‡ªæˆ‘æ”¹è¿› (History-Based Self-Improvement):** ç³»ç»Ÿçš„è‡ªæˆ‘ä¼˜åŒ–èƒ½åŠ›å¿…é¡»å»ºç«‹åœ¨å®Œæ•´ã€å¯é ã€æŒä¹…åŒ–çš„ä»»åŠ¡å†å²ä¹‹ä¸Šã€‚
- **P6: ç»Ÿä¸€æ„ä»¶å¼•ç”¨åè®® (Unified Artifact-Reference Protocol):** ä»»åŠ¡çš„è¾“å…¥æ˜¯è½»é‡çº§çš„"æ„ä»¶éœ€æ±‚åˆ—è¡¨"ï¼Œè€Œéåºå¤§çš„æ•°æ®å®ä½“ã€‚
- **P7: æ„ä»¶çš„è‡ªæè¿°ä¸éªŒè¯ (Artifact Self-Description and Validation):** æ¯ä¸ªæ„ä»¶ï¼ˆArtifactï¼‰å¿…é¡»æ˜¯è‡ªæè¿°å’Œå¯éªŒè¯çš„ï¼Œå°†æ¥å£æ­£ç¡®æ€§ä»"æ–‡æ¡£çº¦å®š"æå‡ä¸º"è¿è¡Œæ—¶ä¿è¯"ã€‚

## **3. ç³»ç»Ÿæ¶æ„ (System Architecture)**

### **3.1 æ¶æ„èŒƒå¼ï¼šçŠ¶æ€é©±åŠ¨çš„ç¼–æ’ (State-Driven Orchestration)**

HELIX ç³»ç»Ÿçš„æ ¸å¿ƒæ˜¯ä¸€ä¸ªå›´ç»•ä¸­å¿ƒçŠ¶æ€æ•°æ®åº“ï¼ˆPostgreSQLï¼‰æ„å»ºçš„ã€ç”±ç¼–æ’å™¨é©±åŠ¨çš„å¼‚æ­¥å·¥ä½œæµç³»ç»Ÿã€‚

### **3.2 æ¶æ„å›¾**

```jsx
      graph TD
    subgraph Central State Database (PostgreSQL)
        DB[(ä½œä¸šä¸ä»»åŠ¡è¡¨ Jobs / Tasks)]
    end

    subgraph Orchestrator / Scheduler
        O[ç¼–æ’å™¨]
    end

    subgraph Decoupled Agents (Stateless Workers)
        A1(AGENT_1: Creative)
        A2(AGENT_2: Visual)
        A3(AGENT_3: Frontend)
        A4(AGENT_4: QAQC)
        A5(AGENT_5: Meta-Optimizer)
    end

    User -- 1. åˆ›å»ºä½œä¸š (Job) --> DB
    O -- 2. è½®è¯¢æ–°ä½œä¸š/ä»»åŠ¡ --> DB
    O -- 3. åˆ†é…ä»»åŠ¡ --> A1
    A1 -- 4. è¯»å–ä»»åŠ¡è¾“å…¥ (å¼•ç”¨) --> DB
    A1 -- 5. å†™å…¥ä»»åŠ¡è¾“å‡º (æ„ä»¶) --> DB
    
    O -- (å¾ªç¯) --> A2
    A2 -- (åŒä¸Š) --> DB
    
    O -- (å¾ªç¯) --> A3
    A3 -- (åŒä¸Š) --> DB

    O -- (å¾ªç¯) --> A4
    A4 -- (åŒä¸Š, å†™å…¥éªŒè¯ç»“æœ) --> DB

    DB -- 6. è‹¥éªŒè¯å¤±è´¥ï¼Œé€šçŸ¥ --> O
    O -- 7. åˆ†é…ä¼˜åŒ–ä»»åŠ¡ --> A5
    A5 -- 8. è¯»å–å®Œæ•´çš„ä½œä¸šå†å² --> DB
    A5 -- 9. å°†ä¼˜åŒ–åçš„Promptå†™å…¥Promptsè¡¨ --> DB

    style DB fill:#dbf4ff,stroke:#0077b6,stroke-width:2px;
    classDef agent fill:#cde4ff,stroke:#5a67d8,stroke-width:2px;
    class A1,A2,A3,A4,A5 agent;
```

### **3.3 ä»£ç†è§’è‰²ä¸èŒè´£ (Agent Roles & Responsibilities)**

ç³»ç»Ÿä¸­çš„æ¯ä¸ªä»£ç†éƒ½æ˜¯ä¸€ä¸ªæ‹¥æœ‰æ˜ç¡®ä½¿å‘½çš„ä¸“å®¶ï¼š

- **AGENT_1: åˆ›æ„æ€»ç›‘ (Creative Director):** å°†ç”¨æˆ·æ¨¡ç³Šçš„è‡ªç„¶è¯­è¨€éœ€æ±‚ï¼Œè½¬åŒ–ä¸ºç»“æ„åŒ–çš„ã€å……æ»¡æ•…äº‹æ€§çš„**ã€Šåˆ›ä½œè“å›¾ã€‹**ã€‚
- **AGENT_2: è§†è§‰æ€»ç›‘ (Visual Director):** åŸºäºã€Šåˆ›ä½œè“å›¾ã€‹ï¼Œæ„æƒ³å¹¶äº§å‡ºå¤šä¸ªé£æ ¼è¿¥å¼‚çš„**ã€Šè§†è§‰æ¦‚å¿µã€‹**ã€‚
- **AGENT_3: é¦–å¸­å™äº‹æ¶æ„å¸ˆ (Chief Narrative Architect):** èåˆã€Šåˆ›ä½œè“å›¾ã€‹ä¸é€‰å®šçš„ã€Šè§†è§‰æ¦‚å¿µã€‹ï¼Œæ„å»ºç»“æ„åŒ–çš„**ã€Šæ¼”ç¤ºæ–‡ç¨¿è“å›¾ã€‹**ã€‚
- **AGENT_4: é¦–å¸­åŸåˆ™å®¡è®¡å®˜ (Chief Principles Auditor):** å¯¹æ¼”ç¤ºæ–‡ç¨¿è“å›¾è¿›è¡ŒåŸåˆ™æ€§å®¡è®¡ï¼Œè¾“å‡ºè¯¦å°½çš„**ã€Šå®¡è®¡æŠ¥å‘Šã€‹**ã€‚
- **AGENT_5: å…ƒä¼˜åŒ–å¸ˆ (Meta-Optimizer):** åˆ†æå¤±è´¥çš„ä½œä¸šå†å²ï¼Œè¯Šæ–­æ ¹æœ¬åŸå› ï¼Œå¹¶æå‡º**ã€Šç³»ç»Ÿä¼˜åŒ–ææ¡ˆã€‹**ä»¥æ”¹è¿›å…¶ä»–ä»£ç†çš„æœªæ¥è¡¨ç°ã€‚

## **4. æŠ€æœ¯å®ç°ä¸è§„èŒƒ (Technical Implementation & Specifications)**

æœ¬ç« èŠ‚è¯¦ç»†é˜è¿°äº†ä¸ºå®ç°ä¸Šè¿°æ¶æ„è€Œåˆ¶å®šçš„æŠ€æœ¯é€‰å‹ã€æ ¸å¿ƒåè®®ã€æ•°æ®ç»“æ„å’Œå¼€å‘è§„èŒƒã€‚

### **4.1 æœ€ç»ˆæŠ€æœ¯é€‰å‹ (Final Technology Stack)**

| ç»„ä»¶ (Component) | **æœ€ç»ˆé€‰å‹ (Final Choice)** | **æ ¸å¿ƒç†ç”± (Core Rationale)** |
| --- | --- | --- |
| **1. æ ¸å¿ƒç¼–æ’å™¨ä¸ä»£ç†æ¡†æ¶** | **è‡ªå®šä¹‰ Python asyncio è„šæœ¬** | **æ¶æ„ä¸€è‡´æ€§é«˜äºä¸€åˆ‡ã€‚** PRDæ˜ç¡®å®šä¹‰äº†"çŠ¶æ€é©±åŠ¨çš„è½®è¯¢"æ¨¡å‹ï¼Œasyncio æ˜¯è¯¥æ¨¡å‹æœ€çº¯ç²¹ã€æœ€ç›´æ¥çš„å®ç°ï¼Œé¿å…äº†ä¸å¿…è¦çš„ä¾èµ–å’Œå¤æ‚æ€§ã€‚ |
| **2. æ•°æ®åº“äº¤äº’** | **asyncpg æˆ– SQLAlchemy Core** | **è¿½æ±‚ç²¾ç¡®ä¸æ€§èƒ½ã€‚** é¿å…ä½¿ç”¨é‡é‡çº§ORMï¼Œç›´æ¥ã€é«˜æ€§èƒ½åœ°æ§åˆ¶SQLï¼Œå®Œå…¨ç¬¦åˆæˆ‘ä»¬ç®€å•çš„æ•°æ®åº“æ“ä½œéœ€æ±‚ã€‚ |
| **3. AIæ¨¡å‹äº¤äº’** | **ç›´æ¥ä½¿ç”¨æ¨¡å‹ä¾›åº”å•†SDK (å¦‚ openai)** | **ä¿è¯å®Œå…¨çš„æ§åˆ¶åŠ›ä¸é€æ˜åº¦ã€‚** éµå¾ªP3åŸåˆ™ï¼Œé¿å… LangChain ç­‰æ¡†æ¶å¼•å…¥çš„æŠ½è±¡å±‚ï¼Œç¡®ä¿å¯¹Promptçš„ç»å¯¹æ§åˆ¶ã€‚ |
| **4. ä½œä¸šåˆ›å»ºAPI** | **FastAPI** | **é€‰æ‹©æ­£ç¡®ï¼Œæ— éœ€æ›´æ”¹ã€‚** è½»é‡ã€é«˜æ€§èƒ½ï¼Œä¸Pydanticçš„æ— ç¼é›†æˆä¸ºå…¥å£æ•°æ®éªŒè¯æä¾›äº†å®Œç¾çš„æ”¯æŒã€‚ |
| **5. æ•°æ®åº“** | **PostgreSQL** | **é€‰æ‹©æ­£ç¡®ï¼Œæ— éœ€æ›´æ”¹ã€‚** PRDä¸­æ˜ç¡®è§„å®šï¼Œå…¶JSONBå­—æ®µå’Œäº‹åŠ¡èƒ½åŠ›æ˜¯ç³»ç»Ÿæ¶æ„çš„åŸºçŸ³ã€‚ |
| **6. éƒ¨ç½²æ–¹æ¡ˆ** | **Docker Compose -> Kubernetes** | **é€‰æ‹©æ­£ç¡®ï¼Œæ— éœ€æ›´æ”¹ã€‚** ä»æœ¬åœ°å¼€å‘åˆ°ç”Ÿäº§ç¯å¢ƒä¼¸ç¼©çš„ç†æƒ³è·¯å¾„ï¼Œå®Œç¾å¥‘åˆ"å› éœ€è€Œç”Ÿ"çš„æ¼”è¿›ç­–ç•¥ã€‚ |

### **4.2 æ ¸å¿ƒåè®®ä¸æ•°æ®ç»“æ„**

### **4.2.1 ç»Ÿä¸€æ¥å£åè®®**

- **input_data åè®® (ä»»åŠ¡è¾“å…¥)**Generated json
    
    ```jsx
          {
      "artifacts": [
        { "name": "string", "source_task_id": "integer" }
      ],
      "params": {}
    }
    ```
    
- **output_data åè®® (ä»»åŠ¡è¾“å‡º/æ„ä»¶)**Generated json
    
    ```jsx
          {
      "schema_id": "string",
      "payload": {}
    }
    ```
    

### **4.2.2 æ•°æ®åº“æ ¸å¿ƒ Schema**

- **jobs è¡¨:** id, status, initial_request, created_at, updated_at
- **tasks è¡¨:** id, job_id, agent_id, status, input_data, output_data, error_log, retry_count
- **agent_prompts è¡¨:** id, agent_id, version, prompt_text, created_at

### **4.3 ä»£ç†å¼€å‘æ¡†æ¶ (SDK) ä¸æ²»ç†**

(æ³¨ï¼šä»¥ä¸‹ä»…å±•ç¤ºä»£ç†çš„æ ¸å¿ƒ I/O ç»“æ„ï¼Œå…·ä½“å®ç°ä¾èµ–äº SDK)

### **4.3.1 SDK æ ¸å¿ƒè¦æ±‚**

- **æ‰¹é‡æ„ä»¶è·å–:** sdk.get_artifacts() å¿…é¡»å®ç°æ‰¹é‡æŸ¥è¯¢ï¼Œè§£å†³ N+1 é—®é¢˜ã€‚
- **ç”Ÿå‘½å‘¨æœŸéªŒè¯:** sdk.save_output() å¿…é¡»åœ¨å†™å…¥å‰éªŒè¯ Schemaã€‚

### **4.3.2 params å­—æ®µæ²»ç†**

- artifacts ä¼ é€’ä¸šåŠ¡"åè¯"ï¼Œparams ä»…ä¼ é€’æµç¨‹æ§åˆ¶çš„"å‰¯è¯"æˆ–å…ƒæ•°æ®ã€‚é€šè¿‡ä¸¥æ ¼çš„ä»£ç å®¡æŸ¥æ¥æ‰§è¡Œã€‚

### **4.4 ä»£ç†è§„æ ¼è¯´æ˜ (Agent Specifications)**

(æ³¨ï¼šä»¥ä¸‹ä»…å±•ç¤ºä»£ç†çš„æ ¸å¿ƒ I/O ç»“æ„ï¼Œå…·ä½“å®ç°ä¾èµ–äº SDK)

- **AGENT_1: åˆ›æ„æ€»ç›‘ (Creative Director)**
    - **è¯»å– input_data:** {"artifacts": [], "params": {"chatInput": "...", "sessionId": "..."}}
    - **å†™å…¥ output_data:** {"schema_id": "CreativeBrief_v1.0", "payload": {...}}
- **AGENT_2: è§†è§‰æ€»ç›‘ (Visual Director)**
    - **è¯»å– input_data:** {"artifacts": [{"name": "creative_brief", "source_task_id": 101}], "params": {}}
    - **å†™å…¥ output_data:** {"schema_id": "VisualExplorations_v1.0", "payload": {...}}
- **AGENT_3: é¦–å¸­å™äº‹æ¶æ„å¸ˆ (Chief Narrative Architect)**
    - **è¯»å– input_data:** {"artifacts": [{"name": "creative_brief", "source_task_id": 101}, {"name": "visual_explorations", "source_task_id": 102}], "params": {"prompt_version_to_use": "..."}}
    - **å†™å…¥ output_data:** {"schema_id": "PresentationBlueprint_v1.0", "payload": {...}}
- **AGENT_4: é¦–å¸­åŸåˆ™å®¡è®¡å®˜ (Chief Principles Auditor)**
    - **è¯»å– input_data:** {"artifacts": [{"name": "presentation_blueprint", "source_task_id": 103}, {"name": "creative_brief", "source_task_id": 101}, {"name": "visual_explorations", "source_task_id": 102}], "params": {}}
    - **å†™å…¥ output_data:** {"schema_id": "AuditReport_v1.0", "payload": {...}}
- **AGENT_5: ç³»ç»Ÿè¯Šæ–­ä¸è¿›åŒ–å·¥ç¨‹å¸ˆ (Chief Evolution Engineer)**
    - **è¯»å– input_data:** {"artifacts": [{"name": "system_failure_case", "source_task_id": 501}, {"name": "audit_report", "source_task_id": 401}], "params": {"analysis_depth": "comprehensive"}}
    - **å†™å…¥ output_data:** {"schema_id": "EvolutionProposal_v1.0", "payload": {...}}

### **4.4 æ•°æ®åº“æ ¸å¿ƒ Schema (Database Core Schema)**

- **jobs è¡¨:** id (PK), status (ENUM), initial_request (JSONB), created_at, updated_at
- **tasks è¡¨:** id (PK), job_id (FK), agent_id (VARCHAR), status (ENUM), input_data (JSONB), output_data (JSONB), error_log (TEXT), retry_count (INT)
- **agent_prompts è¡¨:** id (PK), agent_id (VARCHAR), version (VARCHAR), prompt_text (TEXT), created_at

### **4.5 ä»£ç†å¼€å‘æ¡†æ¶ (SDK) ä¸æ²»ç†**

- **SDK æ ¸å¿ƒè¦æ±‚:**
    - **æ‰¹é‡æ„ä»¶è·å–:** sdk.get_artifacts() å¿…é¡»å®ç°æ‰¹é‡æŸ¥è¯¢ï¼Œè§£å†³ N+1 é—®é¢˜ã€‚
    - **ç”Ÿå‘½å‘¨æœŸéªŒè¯:** sdk.save_output() å¿…é¡»åœ¨å†™å…¥å‰éªŒè¯ Schemaã€‚
- **params å­—æ®µæ²»ç†:** artifacts ä¼ é€’ä¸šåŠ¡"åè¯"ï¼Œparams ä»…ä¼ é€’æµç¨‹æ§åˆ¶çš„"å‰¯è¯"æˆ–å…ƒæ•°æ®ã€‚é€šè¿‡ä¸¥æ ¼çš„ä»£ç å®¡æŸ¥æ¥æ‰§è¡Œã€‚

## **5. è®¾è®¡å“²å­¦ä¸æ‰§è¡Œç­–ç•¥ (Design Philosophy & Implementation Strategy)**

### **5.1 è®¾è®¡è¾©æŠ¤ï¼šå¿…è¦å·¥ç¨‹åŒ– (The Rationale: Necessary Engineering)**

æœ¬ PRD ä¸­çš„æ¶æ„å†³ç­–ï¼ˆçŠ¶æ€æœºã€å¼•ç”¨åè®®ã€SDKï¼‰å¹¶éè¿‡åº¦å·¥ç¨‹åŒ–ï¼Œè€Œæ˜¯æ„å»ºå¯é ã€å¯æ‰©å±•ç³»ç»Ÿæ‰€å¿…éœ€çš„æœ€å°æŠ•å…¥ã€‚

### **5.2 æ‰§è¡Œç­–ç•¥ï¼šæœ€å°åŒ–å¯è¡Œä¸¥è‚ƒæ€§ (Minimum Viable Rigor)**

æˆ‘ä»¬å¿…é¡»åšå®ˆæ¶æ„åŸåˆ™ï¼Œä½†ä»¥æœ€è½»é‡çº§çš„æ–¹å¼å®ç°æ”¯æŒæ€§å·¥å…·ã€‚è®©å¤æ‚æ€§å› éœ€è€Œç”Ÿã€‚

- **SDK:** ä»ä¸€ä¸ªç®€å•çš„å…±äº«å¸®åŠ©å‡½æ•°æ–‡ä»¶å¼€å§‹ (sdk/agent_sdk.py)ã€‚
- **Schema ç®¡ç†:** ä»ä¸€ä¸ªä»£ç åº“å†…çš„ schemas/ ç›®å½•å¼€å§‹ã€‚
- **å·¥ä½œæµå®šä¹‰:** ä»ä¸€ä¸ªç®€å•çš„ JSON é…ç½®æ–‡ä»¶å¼€å§‹ (workflows.json)ã€‚

## **6. æœ¬åœ°å¼€å‘å…¥é—¨ (Getting Started)**

æœ¬èŠ‚å°†æŒ‡å¯¼æ‚¨å¦‚ä½•åœ¨æœ¬åœ°è®¾ç½®å’Œè¿è¡Œ HELIX ç³»ç»Ÿã€‚

### **6.1 å…ˆå†³æ¡ä»¶**

- Git
- Docker
- Docker Compose
- Python 3.10+ (ç”¨äºæœ¬åœ°å¼€å‘)

### **6.2 åŠ¨æ€ç«¯å£ç®¡ç†**

**é‡è¦:** ç”±äºHELIXç³»ç»Ÿè¿è¡Œåœ¨å…±äº«å¼€å‘ç¯å¢ƒä¸­ï¼Œæˆ‘ä»¬é‡‡ç”¨åŠ¨æ€ç«¯å£åˆ†é…æœºåˆ¶ï¼Œ**ä¸¥ç¦ç¡¬ç¼–ç ç«¯å£å·**ã€‚

#### **æ ¸å¿ƒåŸåˆ™**
- æ‰€æœ‰æœåŠ¡ç«¯å£é€šè¿‡è„šæœ¬åŠ¨æ€å‘ç°
- è‡ªåŠ¨å¤„ç†ç«¯å£å†²çªå’Œé‡è¯•
- å‰ç«¯æ™ºèƒ½é€‚é…APIç«¯ç‚¹å˜åŒ–
- æ•°æ®åº“ä½¿ç”¨å›ºå®šç«¯å£ç¡®ä¿ç¨³å®šæ€§

### **6.3 å¯åŠ¨æ–¹å¼**

HELIXç³»ç»Ÿæä¾›ä¸‰ç§å¯åŠ¨æ–¹å¼ï¼Œæ ¹æ®æ‚¨çš„éœ€æ±‚é€‰æ‹©ï¼š

#### **æ–¹å¼1: æ™ºèƒ½åŠ¨æ€å¯åŠ¨ï¼ˆæ¨èç”¨äºå¼€å‘ï¼‰**

ç³»ç»Ÿä¼šè‡ªåŠ¨åˆ†é…å¯ç”¨ç«¯å£å¹¶å¯åŠ¨æ‰€æœ‰æœåŠ¡ï¼š

```bash
# 1. å…‹éš†ä»“åº“
git clone <your-repo-url>
cd project-helix

# 2. é…ç½®ç¯å¢ƒå˜é‡
cp .env.example .env
# ç¼–è¾‘ .env æ–‡ä»¶ï¼Œæ·»åŠ å¿…è¦çš„APIå¯†é’¥

# 3. æ™ºèƒ½å¯åŠ¨ï¼ˆè‡ªåŠ¨ç«¯å£ç®¡ç†ï¼‰
python scripts/start-with-dynamic-ports.py
```

ç³»ç»Ÿå°†è‡ªåŠ¨è¾“å‡ºå®é™…ä½¿ç”¨çš„ç«¯å£ï¼š
```
ğŸŒ API Server will start on: http://localhost:8023
ğŸ“š API Documentation: http://localhost:8023/docs
```

#### **æ–¹å¼2: Dockerç”Ÿäº§éƒ¨ç½²ï¼ˆæ¨èç”¨äºç”Ÿäº§ï¼‰**

ä½¿ç”¨Nginxåå‘ä»£ç†æä¾›ç¨³å®šçš„è®¿é—®ç«¯ç‚¹ï¼š

```bash
# ä½¿ç”¨åŠ¨æ€ç«¯å£é…ç½®
docker-compose -f config/docker-compose.dynamic.yml up -d

# è®¿é—®ç»Ÿä¸€ç«¯ç‚¹ï¼ˆæ— è®ºå†…éƒ¨ç«¯å£å¦‚ä½•å˜åŒ–ï¼‰
# å‰ç«¯ç•Œé¢: http://localhost:8080
# APIæ–‡æ¡£: http://localhost:8080/docs
# å¥åº·æ£€æŸ¥: http://localhost:8080/health
```

#### **æ–¹å¼3: ä¼ ç»Ÿæ‰‹åŠ¨é…ç½®**

å¦‚æœéœ€è¦æ‰‹åŠ¨æ§åˆ¶ç«¯å£åˆ†é…ï¼š

```bash
# 1. æŸ¥æ‰¾å¯ç”¨ç«¯å£
chmod +x ./scripts/find-port.sh
AVAILABLE_PORT=$(./scripts/find-port.sh)
echo "å‘ç°å¯ç”¨ç«¯å£: $AVAILABLE_PORT"

# 2. é…ç½®ç¯å¢ƒæ–‡ä»¶
cp .env.example .env
sed -i "s/^API_PORT=.*/API_PORT=${AVAILABLE_PORT}/" .env

# 3. å¯åŠ¨æœåŠ¡
python start_system.py
```

### **6.4 éªŒè¯è¿è¡ŒçŠ¶æ€**

#### **åŠ¨æ€å¯åŠ¨éªŒè¯**
- æœåŠ¡å¯åŠ¨æ—¶ä¼šè‡ªåŠ¨æ˜¾ç¤ºåˆ†é…çš„ç«¯å£
- å‰ç«¯è‡ªåŠ¨å‘ç°å¹¶è¿æ¥åˆ°æ­£ç¡®çš„APIç«¯ç‚¹
- æµè§ˆå™¨è®¿é—®æ˜¾ç¤ºçš„åœ°å€å³å¯ä½¿ç”¨

#### **Dockeréƒ¨ç½²éªŒè¯**
```bash
# æŸ¥çœ‹å®¹å™¨çŠ¶æ€
docker-compose -f config/docker-compose.dynamic.yml ps

# æŸ¥çœ‹æ—¥å¿—
docker-compose -f config/docker-compose.dynamic.yml logs -f

# å¥åº·æ£€æŸ¥
curl http://localhost:8080/api/v1/health
```

#### **ç«¯å£å†²çªè‡ªåŠ¨å¤„ç†**
å¦‚æœé‡åˆ°"ç«¯å£å·²è¢«å ç”¨"é”™è¯¯ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨ï¼š
1. é‡æ–°æ‰«æå¯ç”¨ç«¯å£
2. æ›´æ–°é…ç½®å¹¶é‡è¯•
3. æœ€å¤šé‡è¯•3æ¬¡ç¡®ä¿å¯åŠ¨æˆåŠŸ

### **6.5 æ•…éšœæ’é™¤**

#### **å¸¸è§é—®é¢˜**

**é—®é¢˜**: å‰ç«¯æ— æ³•è¿æ¥API
**è§£å†³**: 
```bash
# æ£€æŸ¥APIæœåŠ¡çŠ¶æ€
curl http://localhost:$(cat .env | grep API_PORT | cut -d= -f2)/api/v1/health

# æŸ¥çœ‹æµè§ˆå™¨æ§åˆ¶å°ï¼Œå‰ç«¯ä¼šè‡ªåŠ¨å‘ç°æ­£ç¡®ç«¯å£
```

**é—®é¢˜**: Dockerå®¹å™¨å¯åŠ¨å¤±è´¥
**è§£å†³**:
```bash
# æ¸…ç†å¹¶é‡å¯
docker-compose -f config/docker-compose.dynamic.yml down
docker-compose -f config/docker-compose.dynamic.yml up -d
```

### **6.6 åœæ­¢æœåŠ¡**

```bash
# åŠ¨æ€å¯åŠ¨çš„æœåŠ¡
# æŒ‰ Ctrl+C åœæ­¢ï¼Œæˆ–ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ¸…ç†è¿›ç¨‹:
pkill -f "start_system.py"

# DockeræœåŠ¡
docker-compose -f config/docker-compose.dynamic.yml down
```
    

## **7. é¡¹ç›®ç»“æ„ (Project Structure)**

ä»¥ä¸‹æ˜¯æ¨èçš„é¡¹ç›®ç›®å½•ç»“æ„ï¼Œå®ƒå°†æ–‡æ¡£ä¸­çš„æ¦‚å¿µæ˜ å°„åˆ°å®é™…çš„ä»£ç ç»„ç»‡æ–¹å¼ã€‚

```jsx
      .
â”œâ”€â”€ api/                 # FastAPI åº”ç”¨ï¼Œæä¾›åˆ›å»ºä½œä¸šçš„ API å…¥å£
â”œâ”€â”€ agents/              # åŒ…å«å„ä¸ªä¸“ä¸šåŒ– Agent çš„æ ¸å¿ƒä¸šåŠ¡é€»è¾‘
â”‚   â”œâ”€â”€ creative.py
â”‚   â”œâ”€â”€ visual.py
â”‚   â””â”€â”€ ...
â”œâ”€â”€ orchestrator/        # æ ¸å¿ƒç¼–æ’å™¨æœåŠ¡ï¼Œè´Ÿè´£è½®è¯¢æ•°æ®åº“å’Œé©±åŠ¨å·¥ä½œæµ
â”œâ”€â”€ sdk/                 # ä»£ç†å¼€å‘æ¡†æ¶ (Agent SDK)ï¼Œæä¾›å…±äº«çš„å·¥å…·å‡½æ•°
â”‚   â””â”€â”€ agent_sdk.py
â”œâ”€â”€ schemas/             # å­˜æ”¾æ‰€æœ‰æ„ä»¶çš„ JSON Schema å®šä¹‰æ–‡ä»¶
â”‚   â”œâ”€â”€ CreativeBrief_v1.1.json
â”‚   â””â”€â”€ ...
â”œâ”€â”€ .env.example         # ç¯å¢ƒå˜é‡ç¤ºä¾‹æ–‡ä»¶
â”œâ”€â”€ .gitignore           # Git å¿½ç•¥æ–‡ä»¶é…ç½®
â”œâ”€â”€ docker-compose.yml   # å®šä¹‰å’Œè¿è¡Œæ•´ä¸ªå¤šå®¹å™¨åº”ç”¨ç¨‹åº
â”œâ”€â”€ workflows.json       # å·¥ä½œæµå®šä¹‰æ–‡ä»¶ï¼Œæè¿° Agent çš„æ‰§è¡Œé¡ºåºå’Œä¾èµ–å…³ç³»
â””â”€â”€ README.md            # æœ¬æ–‡æ¡£
```

### **7.1 è¿è¡Œæ—¶æ¶æ„ (Runtime Architecture)**

å½“é€šè¿‡ docker-compose up å¯åŠ¨åï¼ŒHELIX ç³»ç»Ÿå°†ä»¥ä¸€ç»„è§£è€¦çš„å¾®æœåŠ¡å½¢å¼è¿è¡Œï¼š

- **api æœåŠ¡:** ä¸€ä¸ª FastAPI åº”ç”¨ï¼Œä½œä¸ºç³»ç»Ÿçš„å”¯ä¸€å…¥å£ï¼Œè´Ÿè´£æ¥æ”¶ç”¨æˆ·è¯·æ±‚å¹¶åˆ›å»ºåˆå§‹çš„ Job è®°å½•ã€‚
- **orchestrator æœåŠ¡:** ç³»ç»Ÿçš„"å¤§è„‘"ã€‚ä¸€ä¸ªç‹¬ç«‹çš„è¿›ç¨‹ï¼ŒæŒç»­è½®è¯¢æ•°æ®åº“ï¼Œæ ¹æ® workflows.json çš„å®šä¹‰æ¥åˆ›å»ºå’Œè°ƒåº¦ Taskã€‚
- **agent æœåŠ¡(ç¾¤):** ä¸€ä¸ªæˆ–å¤šä¸ª Agent å·¥ä½œè€…è¿›ç¨‹ã€‚å®ƒä»¬æ˜¯ç³»ç»Ÿçš„"æ‰‹è„š"ï¼ŒæŒç»­è½®å·¡æ•°æ®åº“ï¼Œè·å–åˆ†é…ç»™è‡ªå·±çš„ Task å¹¶æ‰§è¡Œã€‚å¯ä»¥æ°´å¹³æ‰©å±•ä»¥å¢åŠ ç³»ç»Ÿçš„å¤„ç†èƒ½åŠ›ã€‚

æ‰€æœ‰æœåŠ¡ä¹‹é—´ä¸ç›´æ¥é€šä¿¡ï¼Œå®Œå…¨é€šè¿‡è¯»å†™ä¸­å¿ƒæ•°æ®åº“æ¥è§£è€¦å’Œåä½œã€‚

## **8. æœªæ¥è·¯çº¿å›¾ (Future Roadmap)**

- **v1.5: äººç±»åœ¨ç¯ (Human-in-the-Loop):** åœ¨å·¥ä½œæµä¸­å¢åŠ  PENDING_HUMAN_APPROVAL çŠ¶æ€ã€‚
- **v1.6: åˆ†æ”¯ä¸å¹¶è¡Œ (Branching & Parallelism):** ç¼–æ’å™¨æ”¯æŒå¹¶è¡Œä»»åŠ¡ã€‚
- **v2.0: å¼•å…¥æ–°çš„ä»£ç†:** æ·»åŠ  AGENT_6 (UX Writer) ç­‰ã€‚
- **v2.1: A/B æµ‹è¯•æ¡†æ¶:** æ”¯æŒæ–°æ—§ç‰ˆæœ¬ Prompt çš„å¹¶è¡Œè¿è¡Œä¸è¯„ä¼°ã€‚

## **9. è®¸å¯ (License)**

æœ¬é¡¹ç›®é‡‡ç”¨ [MIT License](https://www.google.com/url?sa=E&q=LICENSE) æˆæƒã€‚